// ===== INPUTTEXT COMPONENT - BEM =====
// Variáveis de cores por contexto
@import '../../../styles/variables.scss';
@import '../../../styles/mixins.scss';

// ===== BASE COMPONENT =====
.input-text {
  &__wrapper {
    width: 100%;
  }

  &__field {
    border: 1px solid;
    transition: all 0.3s ease;
    font-weight: 500;
    
    &::placeholder {
      opacity: 0.8;
    }

    &:focus {
      box-shadow: 0 0 0 0.2rem;
      outline: none;
    }

    &:disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  &__icon {
    transition: all 0.3s ease;
  }

  &__button {
    transition: all 0.3s ease;
  }

  // ===== VARIANTES TEMÁTICAS =====
  
  // PRIMARY - Navbar (Verde transparente)
  &--primary {
    .input-text__field {
      background: transparent;
      border-color: #165329;
      color: #165329;

      &::placeholder {
        color: rgba(22, 83, 41, 0.7);
      }

      &:focus {
        border-color: #0f3d1f;
        box-shadow: 0 0 0 0.2rem rgba(22, 83, 41, 0.25);
        background: transparent;
      }
    }

    .input-group-text {
      background: transparent;
      border-color: #165329;
      color: #165329;
    }

    &:focus-within .input-group-text {
      border-color: #0f3d1f;
      color: #0f3d1f;
    }
  }

  // SECONDARY - Contextos Claros (Beige)
  &--secondary {
    .input-text__field {
      background: #f5eede;
      border-color: #165329;
      color: #0f3d1f;

      &::placeholder {
        color: #2d5a3d;
      }

      &:focus {
        border-color: #165329;
        box-shadow: 0 0 0 0.2rem rgba(22, 83, 41, 0.25);
        background: #f0e6d1;
      }
    }

    .input-group-text {
      background: #f0e6d1;
      border-color: #165329;
      color: #165329;
    }

    &:focus-within .input-group-text {
      background: #f0e6d1;
      border-color: #165329;
    }
  }

  // DARK - Seção Produtos (Beige em fundo escuro)
  &--dark {
    .input-text__field {
      background: #f5eede;
      border-color: #f0e6d1;
      color: #0f3d1f;

      &::placeholder {
        color: #2d5a3d;
      }

      &:focus {
        border-color: #165329;
        box-shadow: 0 0 0 0.2rem rgba(245, 238, 222, 0.25);
        background: #ffffff;
      }
    }

    .input-group-text {
      background: #f0e6d1;
      border-color: #f0e6d1;
      color: #165329;
    }

    &:focus-within .input-group-text {
      background: #f0e6d1;
      border-color: #165329;
      color: #165329;
    }
  }

  // SEARCH - Manter atual (fundo escuro)
  &--search {
    .input-text__field {
      background: var(--bg-tertiary);
      border-color: var(--accent-primary);
      color: var(--text-primary);

      &::placeholder {
        color: var(--text-secondary);
        opacity: 0.8;
      }

      &:focus {
        background: var(--bg-tertiary);
        border-color: var(--accent-primary);
        box-shadow: 0 0 0 0.2rem rgba(22, 83, 41, 0.25);
      }
    }

    .input-group-text {
      background: var(--bg-tertiary);
      border-color: var(--accent-primary);
      color: var(--text-secondary);
    }
  }

  // NEWSLETTER - Contextos claros
  &--newsletter {
    .input-text__field {
      background: #f5eede;
      border-color: #165329;
      color: #0f3d1f;
      padding: 0.5rem 0.75rem;
      font-size: 1rem;

      &::placeholder {
        color: #2d5a3d;
      }

      &:focus {
        background: #f5eede;
        border-color: #165329;
        box-shadow: 0 0 0 0.2rem rgba(22, 83, 41, 0.25);
      }
    }
  }

  // ===== TAMANHOS =====
  &--sm {
    .input-text__field {
      padding: 0.375rem 0.75rem;
      font-size: 0.875rem;
    }
  }

  &--md {
    .input-text__field {
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
    }
  }

  &--lg {
    .input-text__field {
      padding: 0.75rem 1rem;
      font-size: 1.125rem;
    }
  }

  // ===== ESTADOS =====
  &--disabled {
    .input-text__field {
      background-color: var(--bg-tertiary);
      color: var(--text-muted);
      opacity: 0.6;
      cursor: not-allowed;
    }
  }

  &--focused {
    .input-text__field {
      transform: none;
    }
  }

  &--error {
    .input-text__field {
      border-color: var(--danger);
      
      &:focus {
        border-color: var(--danger);
        box-shadow: 0 0 0 0.2rem rgba(196, 92, 92, 0.25);
      }
    }
  }
}

// ===== RESPONSIVIDADE =====
@media (max-width: 768px) {
  .input-text {
    &--lg {
      .input-text__field {
        padding: 0.5rem 0.75rem;
        font-size: 1rem;
      }
    }
  }
}
